FONT_SRCS = \
	courier.sfd \
	fixedsys.sfd \
	fixedsys_jp.sfd \
	marlett.sfd \
	ms_sans_serif.sfd \
	small_fonts.sfd \
	small_fonts_jp.sfd \
	symbol.sfd \
	system.sfd \
	tahoma.sfd \
	tahomabd.sfd \
	wingding.sfd

BITMAP_FONTS  = \
	coue1255.fon \
	coue1256.fon \
	coue1257.fon \
	coure.fon \
	couree.fon \
	coureg.fon \
	courer.fon \
	couret.fon \
	cvgasys.fon \
	hvgasys.fon \
	jsmalle.fon \
	jvgafix.fon \
	jvgasys.fon \
	smalle.fon \
	smallee.fon \
	smalleg.fon \
	smaller.fon \
	smallet.fon \
	smae1255.fon \
	smae1256.fon \
	smae1257.fon \
	sserife.fon \
	sserifee.fon \
	sserifeg.fon \
	sserifer.fon \
	sserifet.fon \
	sseriff.fon \
	sseriffe.fon \
	sseriffg.fon \
	sseriffr.fon \
	sserifft.fon \
	ssee1255.fon \
	ssee1256.fon \
	ssee1257.fon \
	ssee874.fon \
	ssef1255.fon \
	ssef1256.fon \
	ssef1257.fon \
	ssef874.fon \
	svgasys.fon \
	vgafix.fon \
	vgasys.fon \
	vgasyse.fon \
	vgasysg.fon \
	vgasysr.fon \
	vgasyst.fon \
	vgas1255.fon \
	vgas1256.fon \
	vgas1257.fon \
	vgas874.fon

TRUETYPE_FONTS = \
	marlett.ttf \
	symbol.ttf \
	tahoma.ttf \
	tahomabd.ttf \
	wingding.ttf

EXTRA_TARGETS = $(BITMAP_FONTS)

all: $(BITMAP_FONTS)

coure.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1252,8

couree.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1250,8

courer.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1251,8

coureg.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1253,8

couret.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1254,8

coue1255.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1255,8

coue1256.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1256,8

coue1257.fon: $(srcdir)/courier.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/courier.ttf 13,1257,8

vgafix.fon: $(srcdir)/fixedsys.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/fixedsys.ttf 15,1252,8

jvgafix.fon: $(srcdir)/fixedsys_jp.ttf
	$(SFNT2FNT) -o $@ -d 160 $(srcdir)/fixedsys_jp.ttf 18,932,8

sserife.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1252,5 16,1252,7 20,1252,8

sseriff.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1252,7 20,1252,8

sserifee.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1250,5 16,1250,7

sseriffe.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1250,7

sserifer.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1251,5 16,1251,7 20,1251,8

sseriffr.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1251,7 20,1251,8

sserifeg.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1253,5 16,1253,7 20,1253,8

sseriffg.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1253,7 20,1253,8

sserifet.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1254,5 16,1254,7 20,1254,8

sserifft.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1254,7 20,1254,8

ssee1255.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1255,5 16,1255,7 20,1255,8

ssef1255.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1255,7 20,1255,8

ssee1256.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1256,5 16,1256,7 20,1256,8

ssef1256.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1256,7 20,1256,8

ssee1257.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,1257,5 16,1257,7 20,1257,8

ssef1257.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,1257,7 20,1257,8

ssee874.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -d 129 $(srcdir)/ms_sans_serif.ttf 13,874,5 16,874,7 20,874,8

ssef874.fon: $(srcdir)/ms_sans_serif.ttf
	$(SFNT2FNT) -o $@ -r 120 -d 129 $(srcdir)/ms_sans_serif.ttf 16,874,7 20,874,8

smalle.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1252,5

smallee.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1250,5

smaller.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1251,5

smalleg.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1253,5

smallet.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1254,5

smae1255.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1255,5

smae1256.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1256,5

smae1257.fon: $(srcdir)/small_fonts.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts.ttf 11,1257,5

jsmalle.fon: $(srcdir)/small_fonts_jp.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/small_fonts_jp.ttf 11,932,7

vgasys.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1252,7

vgasyse.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1250,7

vgasysr.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1251,7

vgasysg.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1253,7

vgasyst.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1254,7

vgas1255.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1255,7

vgas1256.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1256,7

vgas1257.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,1257,7

vgas874.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,874,7

jvgasys.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 18,932,8

svgasys.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,936,7 16,1252,7

hvgasys.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,949,7

cvgasys.fon: $(srcdir)/system.ttf
	$(SFNT2FNT) -o $@ -d 128 $(srcdir)/system.ttf 16,950,7 16,1252,7

$(BITMAP_FONTS): $(SFNT2FNT)

.PHONY: install install-lib uninstall

install install-lib:: $(BITMAP_FONTS)
	for i in $(BITMAP_FONTS); do $(INSTALL_DATA) $$i $(DESTDIR)$(fontdir)/$$i || exit 1; done
	for i in $(TRUETYPE_FONTS); do $(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(fontdir)/$$i || exit 1; done

uninstall::
	-cd $(DESTDIR)$(fontdir) && $(RM) $(BITMAP_FONTS) $(TRUETYPE_FONTS)
	-rmdir $(DESTDIR)$(fontdir)
